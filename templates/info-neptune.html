<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>NEPTUNE — Vector Explorer</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #02061b;
      --bg2: #071033;
      --accent-1: #6ad0ff;
      --accent-2: #2aa0ff;
      --glass: rgba(255,255,255,0.03);
      --card-border: rgba(106,208,255,0.08);
      --text: #eaf6ff;
      --muted: rgba(234,246,255,0.86);
      --soft-shadow: 0 12px 40px rgba(0,0,0,0.65);

      /* Fluid sizes */
      --space: clamp(14px, 2.2vw, 24px);
      --panel-gap: clamp(16px, 3vw, 36px);
      --panel-radius: clamp(12px, 2.2vw, 20px);
      --title: clamp(24px, 4vw, 40px);
      --lead: clamp(15px, 2.2vw, 18px);

      --focus: 0 0 0 3px rgba(106,208,255,.45), 0 0 0 6px rgba(106,208,255,.18);
    }

    /* Reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      color:var(--text);
      background:
        radial-gradient(900px 420px at 12% 12%, rgba(42,160,255,0.04), transparent 8%),
        radial-gradient(600px 320px at 88% 88%, rgba(106,208,255,0.03), transparent 6%),
        linear-gradient(180deg,var(--bg1),var(--bg2) 60%, #000 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden; /* page doesn't scroll; panels do */
    }

    /* Skip to content */
    .skip-link{
      position:fixed;left:12px;top:10px;z-index:1000;
      background:#0b1028;color:#fff;padding:8px 12px;border-radius:10px;
      transform:translateY(-140%);transition:transform .2s;
    }
    .skip-link:focus{transform:translateY(0);outline:none;box-shadow:var(--focus)}

    /* Top header */
    header.app-header{
      position:fixed;inset:0 0 auto 0;
      display:flex;align-items:center;justify-content:space-between;
      padding: calc(env(safe-area-inset-top) + 12px) clamp(16px,4vw,28px) 12px;
      gap:18px;z-index:60;
      background:linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06));
      border-bottom:1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(6px);
    }
    .brand{display:flex;align-items:center;gap:16px;min-width:0}
    .neptune-emblem{
      width:clamp(48px,6.5vw,64px);height:clamp(48px,6.5vw,64px);border-radius:50%;
      background: radial-gradient(circle at 35% 30%, #d7fbff 0%, #7ee0ff 12%, #3fb7ff 55%, #077bd1 95%);
      box-shadow: 0 12px 40px rgba(30,140,220,0.13), inset 0 -6px 18px rgba(0,0,0,0.08);
      display:flex;align-items:center;justify-content:center;
      transform-origin:center; animation: slowSpin 24s linear infinite;
      border:1px solid rgba(255,255,255,0.03);
      flex:0 0 auto;
    }
    @keyframes slowSpin{to{transform:rotate(360deg)}}
    .brand h1{font-size:clamp(16px,2.7vw,20px);margin:0;font-weight:800;letter-spacing:.6px;white-space:nowrap}
    .brand p{margin:2px 0 0;font-size:clamp(11px,2.2vw,12px);color:var(--muted);white-space:nowrap}

    /* Top nav */
    nav.top-nav{display:flex;gap:10px;align-items:center;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding-bottom:6px}
    nav.top-nav::-webkit-scrollbar{height:6px}
    nav.top-nav::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12);border-radius:999px}
    .nav-btn{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;
      background:transparent;border:1px solid rgba(255,255,255,0.03);
      color:var(--text);font-weight:700;font-size:13px;cursor:pointer;
      transition:transform .28s, box-shadow .28s, background .28s;backdrop-filter: blur(6px);
      white-space:nowrap;
    }
    .nav-btn svg{width:18px;height:18px;display:block}
    .nav-btn:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 12px 30px rgba(42,160,255,0.14)}
    .nav-btn.active{background:linear-gradient(90deg, rgba(106,208,255,0.12), rgba(42,160,255,0.06));box-shadow:0 14px 36px rgba(42,160,255,0.16)}
    .nav-btn:focus-visible{outline:none;box-shadow:var(--focus);outline-offset:2px}

    /* Viewport */
    main.viewport{
      position:fixed;left:0;right:0;bottom:0;
      top:calc(64px + env(safe-area-inset-top));
      height:calc(100dvh - (64px + env(safe-area-inset-top)));
      overflow:hidden;
      padding: var(--space) clamp(16px,4vw,5%);
      z-index:20;display:flex;align-items:center;justify-content:center;
    }

    /* Panels container */
    .panels{ width:min(1200px, 100%); height:100%; position:relative; display:flex;align-items:stretch;justify-content:center; }

    /* Panel base */
    .panel{
      position:absolute;inset:0;margin:auto;width:100%;height:100%;
      display:grid;grid-template-columns: 1fr minmax(300px, 480px);gap:var(--panel-gap);align-items:start;padding:clamp(16px, 3.5vw, 48px);border-radius:var(--panel-radius);
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));
      border: 1px solid rgba(255,255,255,0.03); box-shadow: var(--soft-shadow);
      transform: translateX(140%) scale(.98); opacity:0;
      transition: transform .8s cubic-bezier(.2,.9,.25,1), opacity .5s;
      will-change: transform, opacity; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling: touch;
    }
    .panel.active{transform: translateX(0) scale(1);opacity:1;z-index:30}
    .panel:focus{outline:none}
    .panel:focus-visible{box-shadow:var(--focus)}

    /* Panel inner content */
    .content{ padding-right:4%; max-width:920px; min-height:0 }
    .panel-title{font-size:var(--title);color:var(--accent-1);margin:0 0 10px 0;letter-spacing:.4px}
    .lead{font-size:var(--lead);color:var(--muted);line-height:1.6;margin-bottom:var(--space)}
    .card-blurb{ background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008)); padding:14px;border-radius:14px;border:1px solid var(--card-border); }
    .facts{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
    .fact{background:rgba(255,255,255,0.02);padding:10px;border-radius:10px;font-weight:600;color:var(--muted);font-size:13px}

    /* Right column */
    .media{ display:flex;flex-direction:column;align-items:center;gap:14px;justify-content:flex-start;padding-left:4%; min-height:0 }
    .illustration-wrap{ width:100%;max-width:460px;height:clamp(240px, 35vh, 420px);border-radius:16px; display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.12)); border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 18px 50px rgba(0,0,0,0.6); overflow:hidden;position:relative; flex:0 0 auto;
    }
    .illustration{ width:90%;height:90%; display:block; transform-origin:center; transition: transform .8s cubic-bezier(.2,.9,.25,1), filter .6s; filter: drop-shadow(0 12px 40px rgba(42,160,255,0.08)); }
    .illustration-wrap:hover .illustration{ transform: scale(1.03) rotate(-3deg) }
    .meta-card{ width:100%;padding:12px;border-radius:12px;background:rgba(255,255,255,0.02); border:1px solid var(--card-border);display:flex;gap:12px;align-items:center; flex:0 0 auto; }
    .meta-card .dot{width:14px;height:14px;border-radius:50%;background:var(--accent-1)}
    .meta-card p{margin:0;font-size:13px;color:var(--muted)}

    /* Side progress */
    .side-progress{ position:fixed;right:22px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:12px;z-index:40; }
    .dot-btn{width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.03);cursor:pointer}
    .dot-btn.active{background:linear-gradient(180deg,var(--accent-1),var(--accent-2));box-shadow:0 10px 26px rgba(42,160,255,0.18);transform:scale(1.25)}
    .dot-btn:focus-visible{outline:none;box-shadow:var(--focus)}

    /* Responsive */
    @media (max-width:1100px){ .content{padding-right:0} .media{padding-left:0} }
    @media (max-width:900px){
      main.viewport{padding: var(--space)} .panel{grid-template-columns:1fr} .illustration-wrap{max-width:100%}
      .facts{grid-template-columns:1fr 1fr}
    }
    @media (max-width:720px){
      .brand p{display:none}
      .nav-btn{padding:8px 10px;font-size:0}
      .nav-btn .label{display:none}
      .nav-btn svg{width:20px;height:20px}
    }
    @media (max-width:640px){
      .panel{grid-template-columns:1fr;gap:var(--panel-gap);padding: clamp(12px, 3.5vw, 18px);align-items:flex-start}
      .media{order:-1}
      .illustration-wrap{height:clamp(220px, 34vh, 320px)}
      .panel-title{font-size:clamp(20px,6vw,28px)}
      .facts{grid-template-columns:1fr}
      .side-progress{ right:unset;left:0;right:0;bottom:env(safe-area-inset-bottom);top:auto;transform:none; flex-direction:row;justify-content:center;gap:10px;padding:10px 0;z-index:45 }
      .dot-btn{width:12px;height:12px}
    }

    /* staging reveals */
    .stagger{opacity:0;transform:translateY(8px);transition: all .6s cubic-bezier(.2,.9,.25,1)}
    .stagger.show{opacity:1;transform:none}

    @media (prefers-reduced-motion: reduce){ *{animation:none!important;transition:none!important} }
  </style>
</head>
<body>
  <a class="skip-link" href="#panel-0">Skip to content</a>
  <!-- Subtle particles (canvas) -->
  <canvas id="particle-canvas" aria-hidden="true" style="position:fixed;inset:0;z-index:5;pointer-events:none"></canvas>

  <header class="app-header" role="banner">
    <div class="brand" aria-hidden="false">
      <div class="neptune-emblem" aria-hidden="true">
        <!-- subtle ring -->
        <svg width="40" height="40" viewBox="0 0 40 40" aria-hidden="true">
          <defs>
            <linearGradient id="ring" x1="0" x2="1">
              <stop offset="0%" stop-color="#c8f6ff" stop-opacity="0.9"/>
              <stop offset="100%" stop-color="#3fc2ff" stop-opacity="0.5"/>
            </linearGradient>
          </defs>
          <circle cx="20" cy="20" r="12" fill="url(#ring)" opacity="0.18"/>
        </svg>
      </div>
      <div>
        <h1>NEPTUNE</h1>
        <p>Vector Explorer — interactive</p>
      </div>
    </div>

    <nav class="top-nav" role="navigation" aria-label="Main navigation">
      <button type="button" class="nav-btn active" data-target="0" aria-pressed="true" aria-controls="panel-0" title="Composition & structure" aria-label="Composition">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="3"/><path d="M12 3v2M12 19v2M3 12h2M19 12h2"/></svg>
        <span class="label">Composition</span>
      </button>

      <button type="button" class="nav-btn" data-target="1" aria-controls="panel-1" title="Atmosphere" aria-label="Atmosphere">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M3 15s4-4 9-4 9 4 9 4"/><path d="M5 11s2-3 7-3 7 3 7 3"/></svg>
        <span class="label">Atmosphere</span>
      </button>

      <button type="button" class="nav-btn" data-target="2" aria-controls="panel-2" title="Motion & orbit" aria-label="Motion">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="8"/><path d="M12 4v4l2 2"/></svg>
        <span class="label">Motion</span>
      </button>

      <button type="button" class="nav-btn" data-target="3" aria-controls="panel-3" title="Curiosities & influence" aria-label="Curiosities">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2l2 5h5l-4 3 1 6-5-3-5 3 1-6-4-3h5z"/></svg>
        <span class="label">Curiosities</span>
      </button>
    </nav>
  </header>

  <main class="viewport" role="main">
    <div class="panels">

      <!-- PANEL 0: Composition & structure -->
      <section class="panel active" data-index="0" id="panel-0" aria-labelledby="title-0" role="region" tabindex="-1">
        <div class="content">
          <h2 id="title-0" class="panel-title stagger show">Composition & structure</h2>
          <p class="lead stagger show" style="transition-delay:.05s">
            Neptune is an ice giant: a rocky core wrapped by a thick layer of "ices" (water, ammonia, methane) and an outer gaseous envelope.
          </p>

          <div class="card-blurb stagger show" style="transition-delay:.12s">
            <strong>Core:</strong> likely rocky and relatively dense.<br>
            <strong>Ice-rich interior:</strong> dense mixture of H₂O/NH₃/CH₄ forming much of the mass.<br>
            <strong>Envelope:</strong> hydrogen/helium with upper-layer methane setting the blue hues.
          </div>

          <div class="facts stagger show" style="transition-delay:.20s">
            <div class="fact"><strong>Type:</strong> Ice giant</div>
            <div class="fact"><strong>Composition:</strong> H, He + ices (H₂O, NH₃, CH₄)</div>
            <div class="fact"><strong>Atmospheric temp:</strong> ~ −224 °C</div>
            <div class="fact"><strong>Diameter:</strong> ~49,244 km</div>
          </div>
        </div>

        <aside class="media">
          <div class="illustration-wrap" aria-hidden="false">
            <!-- Inline SVG: schematic layers of Neptune -->
            <svg class="illustration" viewBox="0 0 800 720" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Schematic layers of Neptune">
              <defs>
                <radialGradient id="n_core" cx="40%" cy="50%">
                  <stop offset="0%" stop-color="#e8fbff"/>
                  <stop offset="40%" stop-color="#87e6ff"/>
                  <stop offset="80%" stop-color="#2fb8ff"/>
                  <stop offset="100%" stop-color="#075ea8"/>
                </radialGradient>
                <filter id="glowN" x="-50%" y="-50%" width="200%" height="200%">
                  <feGaussianBlur stdDeviation="10" result="blur"/>
                  <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                </filter>
              </defs>

              <rect width="100%" height="100%" fill="transparent"/>
              <g transform="translate(400,360)">
                <circle r="260" fill="url(#n_core)" opacity="0.06"/>
                <circle r="200" fill="none" stroke="#6fdcff" stroke-width="3" opacity="0.10"/>
                <circle r="140" fill="none" stroke="#49cfff" stroke-width="3" opacity="0.12"/>
                <circle r="80" fill="none" stroke="#1fa8ff" stroke-width="3" opacity="0.14"/>
                <circle r="44" fill="url(#n_core)" filter="url(#glowN)"/>
                <g transform="translate(-220,-120)" fill="#eaf6ff" font-size="14" opacity="0.9">
                  <text x="0" y="0">Core</text>
                </g>
                <g transform="translate(-120,-20)" fill="#eaf6ff" font-size="13" opacity="0.9">
                  <text x="0" y="0">Ice-rich interior</text>
                </g>
                <g transform="translate(-60,100)" fill="#eaf6ff" font-size="13" opacity="0.9">
                  <text x="0" y="0">Gaseous envelope</text>
                </g>
              </g>
            </svg>
          </div>

          <div class="meta-card" role="note" aria-label="Quick summary">
            <div style="flex:1">
              <div style="font-weight:800">Quick summary</div>
              <p style="margin:6px 0 0 0;color:var(--muted);font-size:13px">Layered build: dense core, icy middle, blue-tinged outer atmosphere.</p>
            </div>
            <div class="dot" aria-hidden="true"></div>
          </div>
        </aside>
      </section>

      <!-- PANEL 1: Atmosphere -->
      <section class="panel" data-index="1" id="panel-1" aria-labelledby="title-1" role="region" tabindex="-1">
        <div class="content">
          <h2 id="title-1" class="panel-title stagger">Atmosphere</h2>
          <p class="lead stagger" style="transition-delay:.05s">
            Hydrogen, helium, and methane dominate; methane absorbs red light, yielding the blue–green tones. It is extremely cold.
          </p>

          <div class="card-blurb stagger" style="transition-delay:.12s">
            Upper layers show clouds and powerful storms: Neptune hosts extraordinary winds and large-scale systems.
          </div>

          <div class="facts stagger" style="transition-delay:.20s">
            <div class="fact"><strong>Components:</strong> H₂, He, CH₄</div>
            <div class="fact"><strong>Color:</strong> blue–green due to methane</div>
            <div class="fact"><strong>Winds:</strong> up to >2,000 km/h</div>
            <div class="fact"><strong>Mean temp:</strong> ~ −224 °C</div>
          </div>
        </div>

        <aside class="media">
          <div class="illustration-wrap">
            <!-- stylized atmosphere and winds -->
            <svg class="illustration" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Neptune atmosphere illustration">
              <defs>
                <linearGradient id="windg" x1="0" x2="1">
                  <stop offset="0%" stop-color="#dff9ff" stop-opacity="0.95"/>
                  <stop offset="100%" stop-color="#7fdcff" stop-opacity="0.6"/>
                </linearGradient>
              </defs>
              <rect width="100%" height="100%" fill="transparent"/>
              <g transform="translate(400,320)">
                <circle r="120" fill="#2ea8ff" stroke="#0b5f96" stroke-width="6"/>
                <path d="M-120,-20 C-80,-40 80,-40 120,-20" fill="none" stroke="#7fdcff" stroke-width="8" opacity="0.28" stroke-linecap="round"/>
                <path d="M-120,10 C-80,-10 80,-10 120,10" fill="none" stroke="#9fe8ff" stroke-width="6" opacity="0.22" stroke-linecap="round"/>
              </g>
              <g stroke="url(#windg)" stroke-width="6" stroke-linecap="round" opacity="0.95" fill="none">
                <path d="M80,120 C160,40 480,40 600,120"><animate attributeName="d" dur="6s" repeatCount="indefinite" values="M80,120 C160,40 480,40 600,120; M80,120 C160,-10 480,80 600,120; M80,120 C160,40 480,40 600,120"/></path>
                <path d="M40,160 C140,80 460,80 560,160"><animate attributeName="d" dur="5.2s" repeatCount="indefinite" values="M40,160 C140,80 460,80 560,160; M40,160 C140,40 460,120 560,160; M40,160 C140,80 460,80 560,160"/></path>
              </g>
            </svg>
          </div>

          <div class="meta-card" role="note" aria-label="Atmospheric fact">
            <div style="flex:1">
              <div style="font-weight:800">Fact</div>
              <p style="margin:6px 0 0 0;color:var(--muted);font-size:13px">Despite the cold, Neptune drives some of the fastest winds in the Solar System.</p>
            </div>
            <div class="dot" aria-hidden="true"></div>
          </div>
        </aside>
      </section>

      <!-- PANEL 2: Motion & orbit -->
      <section class="panel" data-index="2" id="panel-2" aria-labelledby="title-2" role="region" tabindex="-1">
        <div class="content">
          <h2 id="title-2" class="panel-title stagger">Motion & orbit</h2>
          <p class="lead stagger" style="transition-delay:.05s">
            Neptune needs 165 Earth years to orbit the Sun. A day lasts ~16 hours; it is the most distant known planet from the Sun.
          </p>

          <div class="card-blurb stagger" style="transition-delay:.12s">
            Its orbit is vast and slow; sunlight and energy are faint at that range compared with Earth.
          </div>

          <div class="facts stagger" style="transition-delay:.20s">
            <div class="fact"><strong>Year:</strong> ~165 Earth years</div>
            <div class="fact"><strong>Rotation:</strong> ~16 hours</div>
            <div class="fact"><strong>Mean distance:</strong> ~30 AU</div>
            <div class="fact"><strong>Position:</strong> farthest major planet</div>
          </div>
        </div>

        <aside class="media">
          <div class="illustration-wrap">
            <!-- orbit and rotation stylized -->
            <svg class="illustration" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Neptune orbit illustration">
              <rect width="100%" height="100%" fill="transparent"/>
              <g transform="translate(120,300)">
                <circle cx="0" cy="0" r="16" fill="#ffd9a6" opacity="0.9" />
                <text x="-14" y="36" fill="#f7f7f7" font-size="12" opacity="0.7">Sun</text>
              </g>

              <g transform="translate(400,300)">
                <ellipse rx="260" ry="120" fill="none" stroke="#4fc7ff" stroke-width="2" opacity="0.14"/>
                <g>
                  <circle cx="260" cy="0" r="34" fill="#2ea8ff" stroke="#063b71" stroke-width="4"/>
                  <text x="232" y="64" font-size="12" fill="#eaf6ff" opacity="0.9">Neptune</text>
                </g>
                <g transform="translate(-40,-120)">
                  <path d="M-10,30 a30,10 0 1,0 60,0" stroke="#9fe8ff" stroke-width="2" fill="none" opacity="0.7"/>
                  <text x="-42" y="46" font-size="11" fill="#eaf6ff" opacity="0.8">Rotation ≈ 16 h</text>
                </g>
              </g>
            </svg>
          </div>

          <div class="meta-card" role="note" aria-label="Context">
            <div style="flex:1">
              <div style="font-weight:800">Context</div>
              <p style="margin:6px 0 0 0;color:var(--muted);font-size:13px">Great distance → frigid conditions and very long orbital periods.</p>
            </div>
            <div class="dot" aria-hidden="true"></div>
          </div>
        </aside>
      </section>

      <!-- PANEL 3: Curiosities & influence -->
      <section class="panel" data-index="3" id="panel-3" aria-labelledby="title-3" role="region" tabindex="-1">
        <div class="content">
          <h2 id="title-3" class="panel-title stagger">Curiosities & influence</h2>
          <p class="lead stagger" style="transition-delay:.05s">
            Neptune hosts massive storms (e.g., the Great Dark Spot), notable moons like Triton, and was predicted mathematically before it was seen.
          </p>

          <div class="card-blurb stagger" style="transition-delay:.12s">
            Triton is peculiar for its retrograde orbit; Neptune is among the least-visited worlds by probes — Voyager 2 flew by in 1989.
          </div>

          <div class="facts stagger" style="transition-delay:.20s">
            <div class="fact"><strong>Moons:</strong> ≥ 14 (Triton prominent)</div>
            <div class="fact"><strong>Storms:</strong> fastest winds in the system</div>
            <div class="fact"><strong>Discovery:</strong> predicted by calculations (1846)</div>
            <div class="fact"><strong>Exploration:</strong> Voyager 2 (1989)</div>
          </div>
        </div>

        <aside class="media">
          <div class="illustration-wrap">
            <!-- Triton + storm + discovery iconography -->
            <svg class="illustration" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Neptune curiosities illustration">
              <rect width="100%" height="100%" fill="transparent"/>
              <g transform="translate(220,300)">
                <circle r="80" fill="#2ea8ff" stroke="#063b71" stroke-width="4"/>
                <text x="-30" y="106" font-size="12" fill="#eaf6ff" opacity="0.9">Neptune</text>
              </g>
              <g transform="translate(420,240)">
                <circle r="18" fill="#f1f6fa" stroke="#c1d8e8" stroke-width="2"/>
                <text x="-22" y="46" font-size="11" fill="#eaf6ff" opacity="0.9">Triton (retrograde)</text>
              </g>
              <g transform="translate(320,360)" fill="none" stroke="#afefff" stroke-width="3" opacity="0.9">
                <path d="M0,0 C20,-30 60,-30 80,0 C60,20 20,20 0,0" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="40" cy="-4" r="6" fill="#cfffff" stroke="none"/>
              </g>
              <g transform="translate(580,420)">
                <rect x="-64" y="-36" width="128" height="72" rx="10" fill="rgba(255,255,255,0.02)" stroke="#7fdcff" stroke-width="1.6"/>
                <text x="-50" y="-4" font-size="12" fill="#eaf6ff">Predicted by</text>
                <text x="-50" y="14" font-size="12" fill="#9fe8ff">Calculations (1846)</text>
              </g>
            </svg>
          </div>

          <div class="meta-card" role="note" aria-label="Note">
            <div style="flex:1">
              <div style="font-weight:800">Note</div>
              <p style="margin:6px 0 0 0;color:var(--muted);font-size:13px">Neptune is a win for math + observation — and a playground for extreme weather.</p>
            </div>
            <div class="dot" aria-hidden="true"></div>
          </div>
        </aside>
      </section>

    </div>
  </main>

  <!-- side progress -->
  <div class="side-progress" aria-label="Section progress">
    <button type="button" class="dot-btn active" data-target="0" aria-controls="panel-0" aria-current="true" title="Composition" aria-label="Go to Composition"></button>
    <button type="button" class="dot-btn" data-target="1" aria-controls="panel-1" title="Atmosphere" aria-label="Go to Atmosphere"></button>
    <button type="button" class="dot-btn" data-target="2" aria-controls="panel-2" title="Motion" aria-label="Go to Motion"></button>
    <button type="button" class="dot-btn" data-target="3" aria-controls="panel-3" title="Curiosities" aria-label="Go to Curiosities"></button>
  </div>
  <!-- Botón flotante con ícono de casa -->
<a href="/"
   title="Ir a inicio"
   aria-label="Inicio"
   style="
     position: fixed;
     bottom: 25px;
     right: 25px;
     width: 60px;
     height: 60px;
     background: #111;
     color: #ffffff;
     display: flex;
     align-items: center;
     justify-content: center;
     border-radius: 50%;
     box-shadow: 0 6px 18px rgba(3, 37, 65, 0.28);
     cursor: pointer;
     text-decoration: none;
     transition: all 0.2s ease;
     z-index: 9999;
   "
   onmouseover="this.style.transform='scale(1.08)'; this.style.boxShadow='0 10px 25px rgba(3,37,65,0.35)';"
   onmouseout ="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 18px rgba(3,37,65,0.28)';"
   onfocus  ="this.style.outline='3px solid rgba(2,132,199,0.25)'; this.style.transform='scale(1.08)';"
   onblur   ="this.style.outline='none'; this.style.transform='scale(1)';"
>
  <svg xmlns="http://www.w3.org/2000/svg"
       width="30" height="30" viewBox="0 0 24 24" fill="none"
       stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
       style="display:block;">
    <path d="M3 9.5L12 3l9 6.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z"/>
  </svg>
</a>

  <script>
    /* --------------------------- Particles - Canvas (HiDPI aware) --------------------------- */
    (function particles(){
      const canvas = document.getElementById('particle-canvas');
      const ctx = canvas.getContext('2d');
      let w, h, dpr;
      function resize(){
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        w = canvas.width = Math.round(innerWidth * dpr);
        h = canvas.height = Math.round(innerHeight * dpr);
        canvas.style.width = innerWidth + 'px';
        canvas.style.height = innerHeight + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      resize();
      addEventListener('resize', resize);

      const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
      const N = Math.round((innerWidth*innerHeight)/90000);
      const parts = Array.from({length: Math.max(60, N)}, ()=>({
        x: Math.random()*innerWidth, y: Math.random()*innerHeight,
        r: Math.random()*1.6 + 0.3,
        vx: (Math.random()-0.5)*0.12, vy: (Math.random()-0.5)*0.12,
        alpha: Math.random()*0.5 + 0.12
      }));
      function step(){
        ctx.clearRect(0,0,innerWidth,innerHeight);
        for(const p of parts){
          p.x += p.vx; p.y += p.vy;
          if(p.x < -10) p.x = innerWidth + 10; if(p.x > innerWidth + 10) p.x = -10;
          if(p.y < -10) p.y = innerHeight + 10; if(p.y > innerHeight + 10) p.y = -10;
          ctx.beginPath();
          ctx.fillStyle = 'rgba(160,230,255,'+ (p.alpha*0.9) +')';
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        }
        if(!prefersReduced) requestAnimationFrame(step);
      }
      step();
    })();

    /* --------------------------- Navigation logic (panels) --------------------------- */
    const panels = Array.from(document.querySelectorAll('.panel'));
    const navBtns = Array.from(document.querySelectorAll('.nav-btn'));
    const dots = Array.from(document.querySelectorAll('.dot-btn'));
    let current = 0;
    const STAGGER_DELAY = 90;

    function clamp(n,a,b){ return Math.max(a, Math.min(b, n)); }

    function setActive(index){
      index = clamp(index, 0, panels.length-1);
      if(index === current) return;

      panels[current].classList.remove('active');
      navBtns[current].classList.remove('active');
      navBtns[current].setAttribute('aria-pressed','false');
      dots[current].classList.remove('active');
      dots[current].removeAttribute('aria-current');

      panels[index].classList.add('active');
      navBtns[index].classList.add('active');
      navBtns[index].setAttribute('aria-pressed','true');
      dots[index].classList.add('active');
      dots[index].setAttribute('aria-current','true');

      revealStagger(panels[index]);
      current = index;
      history.replaceState(null, '', '#p' + index);
      panels[index].focus({preventScroll:true});
    }

    function revealStagger(panelEl){
      const items = panelEl.querySelectorAll('.stagger');
      items.forEach((it, i) => {
        it.classList.remove('show');
        setTimeout(()=> it.classList.add('show'), i * STAGGER_DELAY + 90);
      });
    }

    navBtns.forEach(b => b.addEventListener('click', ()=> setActive(Number(b.dataset.target))));
    dots.forEach(d => d.addEventListener('click', ()=> setActive(Number(d.dataset.target))));

    // keyboard
    addEventListener('keydown', e => {
      if(e.key === 'ArrowRight' || e.key === 'ArrowDown'){ setActive(current+1); }
      if(e.key === 'ArrowLeft'  || e.key === 'ArrowUp'){   setActive(current-1); }
      if(e.key === 'Home'){ setActive(0); }
      if(e.key === 'End'){ setActive(panels.length-1); }
      const n = Number(e.key);
      if(n >= 1 && n <= panels.length){ setActive(n-1); }
    });

    // swipe
    (function swipe(){
      let sx=0, sy=0;
      addEventListener('touchstart', e => { sx = e.touches[0].clientX; sy = e.touches[0].clientY; }, {passive:true});
      addEventListener('touchend', e => {
        const ex = e.changedTouches[0].clientX, ey = e.changedTouches[0].clientY;
        const dx = ex - sx, dy = ey - sy;
        if(Math.abs(dx) > 50 && Math.abs(dx) > Math.abs(dy)){
          if(dx < 0) setActive(current+1);
          if(dx > 0) setActive(current-1);
        }
      }, {passive:true});
    })();

    document.addEventListener('DOMContentLoaded', ()=> {
      revealStagger(panels[0]);
      const hash = window.location.hash;
      if(hash && hash.startsWith('#p')){
        const idx = parseInt(hash.slice(2));
        if(!isNaN(idx) && idx >= 0 && idx < panels.length) setActive(idx);
      }
    });
  </script>
</body>
</html>